{"remainingRequest":"D:\\project2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project2\\src\\components\\common\\validateCode.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project2\\src\\components\\common\\validateCode.vue","mtime":1550821543758},{"path":"D:\\project2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\project2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n\tname:'validateCode',\r\n\tprops:{\r\n\r\n\t},\r\n\tmethods:{\r\n\t\trandomNum(min,max){/**生成一个随机数**/\r\n\t    \treturn Math.floor( Math.random()*(max-min)+min);\r\n\t\t},\r\n\t  \trandomColor(min,max){/**生成一个随机色**/\r\n\t\t    var r = this.randomNum(min,max);\r\n\t\t    var g = this.randomNum(min,max);\r\n\t\t    var b = this.randomNum(min,max);\r\n\t\t    return \"rgb(\"+r+\",\"+g+\",\"+b+\")\";\r\n\t\t},  \r\n  \t\tdrawPic(){/**绘制验证码图片**/\r\n\t\t    var canvas=document.getElementById(\"canvas\");\r\n\t\t    var width=canvas.width;\r\n\t\t    var height=canvas.height;\r\n\t\t    var ctx = canvas.getContext('2d');\r\n\t\t    ctx.textBaseline = 'bottom';\r\n\r\n\t\t    /**绘制背景色**/\r\n\t\t    ctx.fillStyle = this.randomColor(180,240); //颜色若太深可能导致看不清\r\n\t\t    ctx.fillRect(0,0,width,height);\r\n\t\t    /**绘制文字**/\r\n\t\t    var str = 'ABCEFGHJKLMNPQRSTWXY123456789';\r\n\t\t    var saveText = '';\r\n\t\t    for(var i=0; i<4; i++){\r\n\t\t      var txt = str[this.randomNum(0,str.length)];\r\n\t\t      ctx.fillStyle = this.randomColor(50,160);  //随机生成字体颜色\r\n\t\t      ctx.font = this.randomNum(20,40)+'px SimHei'; //随机生成字体大小\r\n\t\t      var x = 10+i*25;\r\n\t\t      var y = this.randomNum(25,45);\r\n\t\t      var deg = this.randomNum(-45, 45);\r\n\t\t      //修改坐标原点和旋转角度\r\n\t\t      ctx.translate(x,y);\r\n\t\t      ctx.rotate(deg*Math.PI/180);\r\n\t\t      ctx.fillText(txt, 0,0);\r\n\t\t      //恢复坐标原点和旋转角度\r\n\t\t      ctx.rotate(-deg*Math.PI/180);\r\n\t\t      ctx.translate(-x,-y);\r\n\t\t      saveText += txt;\r\n\t\t      if(i === 3) this.$emit('show-code',saveText);\r\n\t\t    }\r\n\t\t    /**绘制干扰线**/\r\n\t\t    for(var i=0; i<3; i++){\r\n\t\t      ctx.strokeStyle = this.randomColor(40,180);\r\n\t\t      ctx.beginPath();\r\n\t\t      ctx.moveTo( this.randomNum(0,width), this.randomNum(0,height) );\r\n\t\t      ctx.lineTo( this.randomNum(0,width), this.randomNum(0,height) );\r\n\t\t      ctx.stroke();\r\n\t\t    }\r\n\t\t    /**绘制干扰点**/\r\n\t\t    for(var i=0; i<30; i++){\r\n\t\t      ctx.fillStyle = this.randomColor(0,255);\r\n\t\t      ctx.beginPath();\r\n\t\t      ctx.arc(this.randomNum(0,width),this.randomNum(0,height), 1, 0, 2*Math.PI);\r\n\t\t      ctx.fill();\r\n\t\t    }\r\n\t\t}\r\n\t}\r\n}\r\n\t\r\n",{"version":3,"sources":["validateCode.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"validateCode.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\r\n\t<div class=\"canvas-style\">\r\n\t\t<canvas id=\"canvas\" width=\"120\" height=\"40\"></canvas>\r\n  \t\t<a href=\"javascript:void(0)\" id=\"changeImg\" @click=\"drawPic\">看不清，换一张</a>\r\n  \t</div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nexport default {\r\n\tname:'validateCode',\r\n\tprops:{\r\n\r\n\t},\r\n\tmethods:{\r\n\t\trandomNum(min,max){/**生成一个随机数**/\r\n\t    \treturn Math.floor( Math.random()*(max-min)+min);\r\n\t\t},\r\n\t  \trandomColor(min,max){/**生成一个随机色**/\r\n\t\t    var r = this.randomNum(min,max);\r\n\t\t    var g = this.randomNum(min,max);\r\n\t\t    var b = this.randomNum(min,max);\r\n\t\t    return \"rgb(\"+r+\",\"+g+\",\"+b+\")\";\r\n\t\t},  \r\n  \t\tdrawPic(){/**绘制验证码图片**/\r\n\t\t    var canvas=document.getElementById(\"canvas\");\r\n\t\t    var width=canvas.width;\r\n\t\t    var height=canvas.height;\r\n\t\t    var ctx = canvas.getContext('2d');\r\n\t\t    ctx.textBaseline = 'bottom';\r\n\r\n\t\t    /**绘制背景色**/\r\n\t\t    ctx.fillStyle = this.randomColor(180,240); //颜色若太深可能导致看不清\r\n\t\t    ctx.fillRect(0,0,width,height);\r\n\t\t    /**绘制文字**/\r\n\t\t    var str = 'ABCEFGHJKLMNPQRSTWXY123456789';\r\n\t\t    var saveText = '';\r\n\t\t    for(var i=0; i<4; i++){\r\n\t\t      var txt = str[this.randomNum(0,str.length)];\r\n\t\t      ctx.fillStyle = this.randomColor(50,160);  //随机生成字体颜色\r\n\t\t      ctx.font = this.randomNum(20,40)+'px SimHei'; //随机生成字体大小\r\n\t\t      var x = 10+i*25;\r\n\t\t      var y = this.randomNum(25,45);\r\n\t\t      var deg = this.randomNum(-45, 45);\r\n\t\t      //修改坐标原点和旋转角度\r\n\t\t      ctx.translate(x,y);\r\n\t\t      ctx.rotate(deg*Math.PI/180);\r\n\t\t      ctx.fillText(txt, 0,0);\r\n\t\t      //恢复坐标原点和旋转角度\r\n\t\t      ctx.rotate(-deg*Math.PI/180);\r\n\t\t      ctx.translate(-x,-y);\r\n\t\t      saveText += txt;\r\n\t\t      if(i === 3) this.$emit('show-code',saveText);\r\n\t\t    }\r\n\t\t    /**绘制干扰线**/\r\n\t\t    for(var i=0; i<3; i++){\r\n\t\t      ctx.strokeStyle = this.randomColor(40,180);\r\n\t\t      ctx.beginPath();\r\n\t\t      ctx.moveTo( this.randomNum(0,width), this.randomNum(0,height) );\r\n\t\t      ctx.lineTo( this.randomNum(0,width), this.randomNum(0,height) );\r\n\t\t      ctx.stroke();\r\n\t\t    }\r\n\t\t    /**绘制干扰点**/\r\n\t\t    for(var i=0; i<30; i++){\r\n\t\t      ctx.fillStyle = this.randomColor(0,255);\r\n\t\t      ctx.beginPath();\r\n\t\t      ctx.arc(this.randomNum(0,width),this.randomNum(0,height), 1, 0, 2*Math.PI);\r\n\t\t      ctx.fill();\r\n\t\t    }\r\n\t\t}\r\n\t}\r\n}\r\n\t\r\n</script>"]}]}