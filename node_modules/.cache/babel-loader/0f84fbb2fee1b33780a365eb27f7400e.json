{"remainingRequest":"D:\\jrxcs_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\jrxcs_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\jrxcs_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\jrxcs_vue\\src\\components\\common\\validateCode.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\jrxcs_vue\\src\\components\\common\\validateCode.vue","mtime":1550821543758},{"path":"D:\\jrxcs_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\jrxcs_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\jrxcs_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\jrxcs_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.fill\";\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'validateCode',\n  props: {},\n  methods: {\n    randomNum: function randomNum(min, max) {\n      /**生成一个随机数**/\n      return Math.floor(Math.random() * (max - min) + min);\n    },\n    randomColor: function randomColor(min, max) {\n      /**生成一个随机色**/\n      var r = this.randomNum(min, max);\n      var g = this.randomNum(min, max);\n      var b = this.randomNum(min, max);\n      return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n    },\n    drawPic: function drawPic() {\n      /**绘制验证码图片**/\n      var canvas = document.getElementById(\"canvas\");\n      var width = canvas.width;\n      var height = canvas.height;\n      var ctx = canvas.getContext('2d');\n      ctx.textBaseline = 'bottom';\n      /**绘制背景色**/\n\n      ctx.fillStyle = this.randomColor(180, 240); //颜色若太深可能导致看不清\n\n      ctx.fillRect(0, 0, width, height);\n      /**绘制文字**/\n\n      var str = 'ABCEFGHJKLMNPQRSTWXY123456789';\n      var saveText = '';\n\n      for (var i = 0; i < 4; i++) {\n        var txt = str[this.randomNum(0, str.length)];\n        ctx.fillStyle = this.randomColor(50, 160); //随机生成字体颜色\n\n        ctx.font = this.randomNum(20, 40) + 'px SimHei'; //随机生成字体大小\n\n        var x = 10 + i * 25;\n        var y = this.randomNum(25, 45);\n        var deg = this.randomNum(-45, 45); //修改坐标原点和旋转角度\n\n        ctx.translate(x, y);\n        ctx.rotate(deg * Math.PI / 180);\n        ctx.fillText(txt, 0, 0); //恢复坐标原点和旋转角度\n\n        ctx.rotate(-deg * Math.PI / 180);\n        ctx.translate(-x, -y);\n        saveText += txt;\n        if (i === 3) this.$emit('show-code', saveText);\n      }\n      /**绘制干扰线**/\n\n\n      for (var i = 0; i < 3; i++) {\n        ctx.strokeStyle = this.randomColor(40, 180);\n        ctx.beginPath();\n        ctx.moveTo(this.randomNum(0, width), this.randomNum(0, height));\n        ctx.lineTo(this.randomNum(0, width), this.randomNum(0, height));\n        ctx.stroke();\n      }\n      /**绘制干扰点**/\n\n\n      for (var i = 0; i < 30; i++) {\n        ctx.fillStyle = this.randomColor(0, 255);\n        ctx.beginPath();\n        ctx.arc(this.randomNum(0, width), this.randomNum(0, height), 1, 0, 2 * Math.PI);\n        ctx.fill();\n      }\n    }\n  }\n};",{"version":3,"sources":["validateCode.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"canvas-style\">\r\n\t\t<canvas id=\"canvas\" width=\"120\" height=\"40\"></canvas>\r\n  \t\t<a href=\"javascript:void(0)\" id=\"changeImg\" @click=\"drawPic\">看不清，换一张</a>\r\n  \t</div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nexport default {\r\n\tname:'validateCode',\r\n\tprops:{\r\n\r\n\t},\r\n\tmethods:{\r\n\t\trandomNum(min,max){/**生成一个随机数**/\r\n\t    \treturn Math.floor( Math.random()*(max-min)+min);\r\n\t\t},\r\n\t  \trandomColor(min,max){/**生成一个随机色**/\r\n\t\t    var r = this.randomNum(min,max);\r\n\t\t    var g = this.randomNum(min,max);\r\n\t\t    var b = this.randomNum(min,max);\r\n\t\t    return \"rgb(\"+r+\",\"+g+\",\"+b+\")\";\r\n\t\t},  \r\n  \t\tdrawPic(){/**绘制验证码图片**/\r\n\t\t    var canvas=document.getElementById(\"canvas\");\r\n\t\t    var width=canvas.width;\r\n\t\t    var height=canvas.height;\r\n\t\t    var ctx = canvas.getContext('2d');\r\n\t\t    ctx.textBaseline = 'bottom';\r\n\r\n\t\t    /**绘制背景色**/\r\n\t\t    ctx.fillStyle = this.randomColor(180,240); //颜色若太深可能导致看不清\r\n\t\t    ctx.fillRect(0,0,width,height);\r\n\t\t    /**绘制文字**/\r\n\t\t    var str = 'ABCEFGHJKLMNPQRSTWXY123456789';\r\n\t\t    var saveText = '';\r\n\t\t    for(var i=0; i<4; i++){\r\n\t\t      var txt = str[this.randomNum(0,str.length)];\r\n\t\t      ctx.fillStyle = this.randomColor(50,160);  //随机生成字体颜色\r\n\t\t      ctx.font = this.randomNum(20,40)+'px SimHei'; //随机生成字体大小\r\n\t\t      var x = 10+i*25;\r\n\t\t      var y = this.randomNum(25,45);\r\n\t\t      var deg = this.randomNum(-45, 45);\r\n\t\t      //修改坐标原点和旋转角度\r\n\t\t      ctx.translate(x,y);\r\n\t\t      ctx.rotate(deg*Math.PI/180);\r\n\t\t      ctx.fillText(txt, 0,0);\r\n\t\t      //恢复坐标原点和旋转角度\r\n\t\t      ctx.rotate(-deg*Math.PI/180);\r\n\t\t      ctx.translate(-x,-y);\r\n\t\t      saveText += txt;\r\n\t\t      if(i === 3) this.$emit('show-code',saveText);\r\n\t\t    }\r\n\t\t    /**绘制干扰线**/\r\n\t\t    for(var i=0; i<3; i++){\r\n\t\t      ctx.strokeStyle = this.randomColor(40,180);\r\n\t\t      ctx.beginPath();\r\n\t\t      ctx.moveTo( this.randomNum(0,width), this.randomNum(0,height) );\r\n\t\t      ctx.lineTo( this.randomNum(0,width), this.randomNum(0,height) );\r\n\t\t      ctx.stroke();\r\n\t\t    }\r\n\t\t    /**绘制干扰点**/\r\n\t\t    for(var i=0; i<30; i++){\r\n\t\t      ctx.fillStyle = this.randomColor(0,255);\r\n\t\t      ctx.beginPath();\r\n\t\t      ctx.arc(this.randomNum(0,width),this.randomNum(0,height), 1, 0, 2*Math.PI);\r\n\t\t      ctx.fill();\r\n\t\t    }\r\n\t\t}\r\n\t}\r\n}\r\n\t\r\n</script>"],"sourceRoot":"src/components/common"}]}