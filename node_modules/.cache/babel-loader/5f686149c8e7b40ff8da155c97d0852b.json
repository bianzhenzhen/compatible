{"remainingRequest":"D:\\jrxcs_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\jrxcs_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\jrxcs_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\jrxcs_vue\\src\\views\\register.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\jrxcs_vue\\src\\views\\register.vue","mtime":1551668796085},{"path":"D:\\jrxcs_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\jrxcs_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\jrxcs_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\jrxcs_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { userRegister } from '@/apis';\nexport default {\n  name: 'login',\n  data: function data() {\n    var validPssword = function validPssword(rule, value, callback) {\n      var formatValue = value.trim();\n      if (!formatValue) return callback(new Error('请填写密码!'));\n      if (!/^[a-zA-Z0-9]+$/.test(formatValue)) return callback(new Error('必须填写数字，字母；且区分大小写!'));\n      callback();\n    };\n\n    var validRePassword = function validRePassword(rule, value, callback) {\n      var formatValue = value.trim();\n      if (!formatValue) return callback(new Error('请填写确认密码!'));\n      if (!/^[a-zA-Z0-9]+$/.test(formatValue)) return callback(new Error('必须填写数字，字母；且区分大小写!'));\n      callback();\n    };\n\n    return {\n      ajaxing: false,\n      loginForm: {\n        name: '',\n        password: '',\n        rePassword: ''\n      },\n      rules: {\n        name: [{\n          required: true,\n          message: '请填写名称',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请填写密码',\n          trigger: 'blur'\n        }, {\n          validator: validPssword,\n          trigger: 'blur'\n        }],\n        rePassword: [{\n          required: true,\n          message: '请填确认密码',\n          trigger: 'blur'\n        }, {\n          validator: validRePassword,\n          trigger: 'blur'\n        }]\n      },\n      currPassword: ''\n    };\n  },\n  methods: {\n    dataFormat: function dataFormat(_ref) {\n      var name = _ref.name,\n          password = _ref.password;\n      return {\n        accountName: name,\n        password: password\n      };\n    },\n    submitForm: function submitForm(refName) {\n      var _this = this;\n\n      var bool = false;\n      this.$refs[refName].validate(function (valid, obj) {\n        //检验未blur\n        bool = valid;\n      });\n\n      if (this.loginForm.password !== this.loginForm.rePassword) {\n        this.$message.error(\"确认密码不正确！\");\n        return;\n      }\n\n      var data = this.dataFormat(this.loginForm);\n\n      if (bool && !this.ajaxing) {\n        this.ajaxing = true;\n        userRegister(data, function (res) {\n          _this.ajaxing = false;\n          var _res$data = res.data,\n              status = _res$data.status,\n              data = _res$data.data;\n\n          if (!status) {\n            _this.$message.success(data);\n\n            setTimeout(function () {\n              _this.$router.push(\"/login\");\n            }, 2000);\n          } else {\n            _this.$message.error(data);\n          }\n        }, function (error) {\n          _this.ajaxing = false;\n        });\n      }\n    },\n    resetForm: function resetForm(refName) {\n      this.$refs[refName].resetFields();\n    },\n    mounted: function mounted() {// document.onkeydown = (event) => {\n      // \tvar e = event || window.event || arguments.callee.caller.arguments[0];\n      // \tif(e && e.keyCode == 13 && this.$route.path == '/register') this.submitForm('ruleForm');\n      // }\n    }\n  }\n};",{"version":3,"sources":["register.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"page-all-frame\">\r\n\t\t<div class=\"form-position\">\r\n\t\t\t<div class=\"form-frame\">\r\n\t\t\t\t<el-form :model=\"loginForm\" :rules=\"rules\" status-icon ref=\"ruleForm\" label-width=\"80px\" class=\"demo-ruleForm\">\r\n\t\t\t\t  <div class=\"form-title\">用户注册</div>\r\n\t\t\t\t  <el-form-item label=\"账号\" prop=\"name\">\r\n\t\t\t\t    <el-input v-model=\"loginForm.name\"></el-input>\r\n\t\t\t\t  </el-form-item>\r\n\t\t\t\t  <el-form-item label=\"密码\" prop=\"password\">\r\n\t\t\t\t    <el-input v-model=\"loginForm.password\" type=\"password\"></el-input>\r\n\t\t\t\t  </el-form-item>\r\n\t\t\t\t  <el-form-item label=\"确认密码\" prop=\"rePassword\">\r\n\t\t\t\t    <el-input v-model=\"loginForm.rePassword\" type=\"password\"></el-input>\r\n\t\t\t\t  </el-form-item>\r\n\t\t\t\t  <div class=\"form-button\">\r\n\t\t\t\t    <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">注册</el-button>\r\n\t\t\t\t    <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n\t\t\t\t  </div>\r\n\t\t\t\t  <div class=\"form-link\">\r\n\t\t\t\t    <router-link to=\"/login\">已注册立即登录</router-link>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</el-form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nimport {userRegister} from '@/apis'\r\nexport default {\r\n\tname:'login',\r\n\tdata(){\r\n\t\tconst validPssword = (rule, value, callback) => {\r\n\t\t\tconst formatValue = value.trim();\r\n\t\t\tif(!formatValue) return callback(new Error('请填写密码!'))\r\n\t\t\tif(!/^[a-zA-Z0-9]+$/.test(formatValue)) return callback(new Error('必须填写数字，字母；且区分大小写!'));\r\n\t\t\tcallback();\r\n\t\t};\r\n\t\tconst validRePassword = (rule, value, callback) => {\r\n\t\t\tconst formatValue = value.trim();\r\n\t\t\tif(!formatValue) return callback(new Error('请填写确认密码!'))\r\n\t\t\tif(!/^[a-zA-Z0-9]+$/.test(formatValue)) return callback(new Error('必须填写数字，字母；且区分大小写!'));\r\n\t\t\tcallback();\r\n\t\t};\r\n\t\treturn{\r\n\t\t\tajaxing: false,\r\n\t\t\tloginForm : {\r\n\t\t\t\tname: '',\r\n\t\t\t\tpassword : '',\r\n\t\t\t\trePassword : ''\r\n\t\t\t},\r\n\t\t\trules:{\r\n\t\t\t\tname:[\r\n\t\t\t\t\t{required:true,message:'请填写名称',trigger:'blur'}\r\n\t\t\t\t],\r\n\t\t\t\tpassword:[\r\n\t\t\t\t\t{required:true,message:'请填写密码', trigger:'blur'},\r\n\t\t\t\t\t{validator:validPssword, trigger:'blur'}\r\n\t\t\t\t],\r\n\t\t\t\trePassword:[\r\n\t\t\t\t\t{required:true,message:'请填确认密码',trigger:'blur'},\r\n\t\t\t\t\t{validator:validRePassword, trigger:'blur'}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tcurrPassword:''\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\tdataFormat({name, password}){\r\n\t\t\treturn {\r\n\t\t\t\taccountName : name,\r\n\t\t\t\tpassword\r\n\t\t\t}\r\n\t\t},\r\n\t\tsubmitForm(refName){\r\n\t\t\tlet bool = false;\r\n\t\t\tthis.$refs[refName].validate( (valid, obj) => { //检验未blur\r\n\t\t\t\tbool = valid;\r\n\t\t\t})\r\n\t\t\tif(this.loginForm.password !== this.loginForm.rePassword) {\r\n\t\t\t\tthis.$message.error(\"确认密码不正确！\");\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tconst data = this.dataFormat(this.loginForm)\r\n\t\t\tif(bool && !this.ajaxing){\r\n\t\t\t\tthis.ajaxing = true;\r\n\t\t\t\tuserRegister(data, (res)=>{\r\n\t\t\t\t\tthis.ajaxing = false;\r\n\t\t\t\t\tconst {status, data} = res.data;\r\n\t\t\t\t\tif(!status){\r\n\t\t\t\t\t\tthis.$message.success(data)\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\tthis.$router.push(\"/login\");\r\n\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$message.error(data)\r\n\t\t\t\t\t}\r\n\t\t\t\t},(error)=>{\r\n\t\t\t\t\tthis.ajaxing = false;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tresetForm(refName){\r\n\t\t\tthis.$refs[refName].resetFields();\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\t// document.onkeydown = (event) => {\r\n\t\t\t// \tvar e = event || window.event || arguments.callee.caller.arguments[0];\r\n\t\t\t// \tif(e && e.keyCode == 13 && this.$route.path == '/register') this.submitForm('ruleForm');\r\n\t\t\t// }\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.page-all-frame{\r\n\tmin-height:100%; //方便铺背景\r\n\tdisplay:table;\r\n\twidth:100%;\r\n\tbackground: rgb(64, 64, 64);\r\n\t.form-position{\r\n\t\tdisplay:table-cell;\r\n\t\tvertical-align: middle;\r\n\t\ttext-align:center;\r\n\t\t.form-frame{\r\n\t\t\tbackground: white;\r\n\t\t\tborder:#363636 solid blue;\r\n\t\t\tborder-radius: 20px;\r\n\t\t\twidth:40%;\r\n\t\t\tmargin: 0 auto;\r\n    \t\tpadding: 4% 5% 2%;\r\n\t\t}\r\n\t\t.form-title{\r\n\t\t\tfont-size: 32px;\r\n    \t\tpadding-bottom: 35px;\r\n\t\t}\r\n\t\t.form-button>.el-button{\r\n\t\t        width: 43%;\r\n    \t\t\tmargin: 20px 10px;\r\n\t\t}\r\n\t\t.form-button>.el-button:first-child{\r\n    \t\t\tmargin-left: 0;\r\n\t\t}\r\n\t\t.form-button>.el-button:last-child{\r\n    \t\t\tmargin-right: 0;\r\n\t\t}\r\n\t\t.form-link{\r\n\t\t\ttext-align: right;\r\n\t\t}\r\n\t\t.form-link>a{\r\n\t\t\tfont-size:14px;\r\n\t\t\tcolor:blue\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}