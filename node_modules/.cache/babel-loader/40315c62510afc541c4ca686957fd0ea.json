{"remainingRequest":"D:\\project2\\node_modules\\babel-loader\\lib\\index.js!D:\\project2\\src\\apis\\interceptors.js","dependencies":[{"path":"D:\\project2\\src\\apis\\interceptors.js","mtime":1551410273825},{"path":"D:\\project2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Promise from \"D:\\\\project2\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/promise\";\n\nvar _this = this;\n\nimport Vue from 'vue';\nimport Axios from 'axios';\nexport default (function () {\n  debugger;\n  Vue.prototype.$axios = Axios; //配置axios请求头token\n\n  Axios.interceptors.request.use(function (config) {\n    if (localStorage.getItem('token')) {\n      config.headers.Authorization = localStorage.getItem('token');\n    }\n\n    return config;\n  }, function (error) {\n    return _Promise.reject(error);\n  });\n  Axios.interceptors.response.use(function (response) {\n    debugger;\n    var _response$data = response.data,\n        status = _response$data.status,\n        data = _response$data.data;\n\n    if (status && status == 4) {\n      _this.$message.error(data);\n\n      setTimeout(function () {\n        _this.$router.push(\"/login\");\n      }, 2000);\n    } else if (status && status != 4) {\n      _this.$message.error(data);\n    }\n\n    return response;\n  }, function (error) {\n    return _Promise.reject(error);\n  });\n});",{"version":3,"sources":["D:\\project2\\src\\apis\\interceptors.js"],"names":["Vue","Axios","prototype","$axios","interceptors","request","use","config","localStorage","getItem","headers","Authorization","error","reject","response","data","status","$message","setTimeout","$router","push"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,gBAAc,YAAI;AACjB;AACDD,EAAAA,GAAG,CAACE,SAAJ,CAAcC,MAAd,GAAuBF,KAAvB,CAFkB,CAGlB;;AACAA,EAAAA,KAAK,CAACG,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACC,UAAAC,MAAM,EAAI;AACT,QAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAH,EAAiC;AAChCF,MAAAA,MAAM,CAACG,OAAP,CAAeC,aAAf,GAA+BH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA/B;AACA;;AACD,WAAOF,MAAP;AACA,GANF,EAOC,UAAAK,KAAK,EAAI;AACR,WAAO,SAAQC,MAAR,CAAeD,KAAf,CAAP;AACA,GATF;AAWAX,EAAAA,KAAK,CAACG,YAAN,CAAmBU,QAAnB,CAA4BR,GAA5B,CACC,UAAAQ,QAAQ,EAAI;AACX;AADW,yBAEaA,QAAQ,CAACC,IAFtB;AAAA,QAEHC,MAFG,kBAEHA,MAFG;AAAA,QAEKD,IAFL,kBAEKA,IAFL;;AAGX,QAAGC,MAAM,IAAEA,MAAM,IAAI,CAArB,EAAwB;AACvB,MAAA,KAAI,CAACC,QAAL,CAAcL,KAAd,CAAoBG,IAApB;;AACAG,MAAAA,UAAU,CAAC,YAAI;AACd,QAAA,KAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB,QAAlB;AACA,OAFS,EAER,IAFQ,CAAV;AAGA,KALD,MAKM,IAAGJ,MAAM,IAAEA,MAAM,IAAI,CAArB,EAAwB;AAC7B,MAAA,KAAI,CAACC,QAAL,CAAcL,KAAd,CAAoBG,IAApB;AACA;;AACD,WAAOD,QAAP;AACA,GAbF,EAcC,UAAAF,KAAK,EAAI;AACR,WAAO,SAAQC,MAAR,CAAeD,KAAf,CAAP;AACA,GAhBF;AAkBC,CAjCD","sourcesContent":["import Vue from 'vue'\r\nimport Axios from 'axios'\r\nexport default()=>{\r\n\tdebugger\r\nVue.prototype.$axios = Axios;\r\n//配置axios请求头token\r\nAxios.interceptors.request.use(\r\n\tconfig => {\r\n\t\tif(localStorage.getItem('token')){\r\n\t\t\tconfig.headers.Authorization = localStorage.getItem('token');\r\n\t\t}\r\n\t\treturn config;\r\n\t},\r\n\terror => {\r\n\t\treturn Promise.reject(error);\r\n\t}\r\n)\r\nAxios.interceptors.response.use(\r\n\tresponse => {\r\n\t\tdebugger\r\n\t\tconst { status, data} = response.data;\r\n\t\tif(status&&status == 4 ){\r\n\t\t\tthis.$message.error(data);\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tthis.$router.push(\"/login\")\r\n\t\t\t},2000)\r\n\t\t}else if(status&&status != 4 ){\r\n\t\t\tthis.$message.error(data);\r\n\t\t}\r\n\t\treturn response;\r\n\t},\r\n\terror => {\r\n\t\treturn Promise.reject(error);\r\n\t}\r\n)\r\n}"]}]}